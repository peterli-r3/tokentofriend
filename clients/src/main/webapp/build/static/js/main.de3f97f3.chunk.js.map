{"version":3,"sources":["component/retrieveToken.js","component/App.js","reportWebVitals.js","index.js"],"names":["retrieveToken","props","queryToken","queryInfo","JSON","stringify","state","tokenId","reEmail","console","log","endPoint","axios","post","then","response","data","setState","callback","peerNodes","label","storageNode","storageNodeue","handleChange","bind","handleSubmit","get","peerList","peers","nodeList","map","node","push","event","this","target","name","value","preventDefault","className","Container","src","alt","width","Row","Col","md","offset","to","onSubmit","onChange","option","type","React","Component","App","seEmail","message","tokenInfo","id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.de3f97f3.chunk.js","sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from \"react\";\nimport axios from 'axios';\n\nimport Container from 'react-bootstrap/Container'\nimport { Row } from 'react-bootstrap';\nimport { Col } from 'react-bootstrap';\nimport { BrowserRouter as Router, Switch, Route, Link} from \"react-router-dom\";\n\nclass retrieveToken extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tokenId:'',\n      reEmail:'',\n      peerNodes:[{\n        label: \"C=CN,L=Beijing,O=AsiaEast\",\n        storageNode: \"C=CN,L=Beijing,O=AsiaEast\",\n      },\n      {\n        label: \"C=US,L=New York,O=USEast3\",\n        storageNodeue: \"C=US,L=New York,O=USEast3\",\n      },\n      {\n        label: \"C=US,L=San Diego,O=USWest1\",\n        storageNode: \"C=US,L=San Diego,O=USWest1\",\n      },],\n      endPoint:'10050',\n      storageNode:'BankA',\n      callback:''};\n\n      this.handleChange = this.handleChange.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount(){\n      axios.get('http://localhost:10050/peers', {\"headers\": {\"content-type\": \"application/json\",}})\n       .then(\n         response => {\n          //  console.log(response.data)\n           const peerList = response.data.peers\n           console.log(peerList)\n           const nodeList = []\n           peerList.map((node)=>(\n            nodeList.push({label:node,storageNode:node})\n           ))\n           console.log(nodeList)\n           console.log(\"--\")\n           console.log(this.state.peerNodes)\n           this.setState({\n             peerNodes:nodeList\n          });\n          }\n         );\n\n    }\n\n    handleChange(event) {\n      this.setState({ [event.target.name]: event.target.value });\n    }\n\n    handleSubmit(event) {\n      // console.log('A token was submitted: \\nSender: '+ this.state.seEmail+'\\nReceiver: '+this.state.reEmail+'\\nMessage'+this.state.message);\n      console.log(this.state.storageNode);\n      if (this.state.storageNode == 'C=CN,L=Beijing,O=AsiaEast'){\n        console.log('10051')\n        this.setState({endPoint:'10051'}, this.queryToken);\n      }else if(this.state.storageNode == 'C=US,L=New York,O=USEast3'){\n        console.log('10052')\n        this.setState({endPoint : '10052'}, this.queryToken);\n      }else if(this.state.storageNode == 'C=US,L=San Diego,O=USWest1'){\n        console.log('10053')\n        this.setState({endPoint : '10053'}, this.queryToken);\n      }\n      event.preventDefault();\n    }\n\n    queryToken = () => {\n      const queryInfo = JSON.stringify({ \n        \"tokenId\": this.state.tokenId,\n        \"recipientEmail\": this.state.reEmail        \n       });\n       console.log(queryInfo);\n       console.log(`http://localhost:${this.state.endPoint}/retrieve`)    \n       axios.post(`http://localhost:${this.state.endPoint}/retrieve`, queryInfo, {\"headers\": {\"content-type\": \"application/json\",}})\n       .then(\n         response => {\n           console.log(response.data)\n           this.setState({callback:response.data})\n          }\n         );\n    }\n\n    render(){\n      return (\n        <div className=\"retrieveToken\">\n          <Container>\n            <img src=\"https://www.corda.net/wp-content/uploads/2016/11/fg005_corda_b.png\" alt=\"Corda\" width=\"200\" className=\"App-logo\"/>\n            <Row>\n              <Col md=\"auto\"><h1>CorDapp Token-To-Friend</h1></Col>\n              <Col md={{offset:2}}><Link to=\"/\" ><button className=\"btn btn-primary\" >Create a Token</button></Link> <button className=\"btn btn-primary disabled\" >Retrieve a Token</button></Col>\n            </Row>\n            <p>In this example CorDapp, you will be able to issue your friend a token that carries a secret message.\n              You will receive the information of the tokenID and where the token is stored. Your friend would need these\n              information to retrieve the token and reveal the secret message.</p>\n              <p>If you are retrieving a token, please click the Retrieve Token button above to continue. ↗️ </p>\n          </Container>\n          <Container>\n            <h4>Retrieve the Secret Message: </h4>\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"form-group\">\n                <label>\n                  Storage Node\n                </label>\n                <select value={this.state.storageNode} name=\"storageNode\" onChange={this.handleChange} className=\"form-control\">\n                  {this.state.peerNodes.map((option) => (\n                    <option value={option.storageNode}>{option.label}</option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <label>Token ID</label>\n                <input\n                  type=\"text\"  className=\"form-control\" name=\"tokenId\" onChange={this.handleChange} />\n              </div>\n              <div className=\"form-group\">\n                <label>\n                  Recipient's Email Address\n                </label>\n                <input\n                  type=\"text\"  className=\"form-control\" name=\"reEmail\" onChange={this.handleChange} />\n              </div>\n              <br />\n              <div className=\"row\">\n                <div className=\"col-10\" />\n                <div className=\"col\">\n                  <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n                </div>\n              </div>\n            </form>\n          </Container>\n          <br />\n          <Container>\n            {this.state.callback != '' &&\n              <div>\n                <h4>Here is your query result: </h4>\n                <p>{this.state.callback}</p>\n              </div>\n            \n                  }\n          </Container>\n\n\n        </div>\n      );\n    }\n  }\n\n  export default retrieveToken;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from \"react\";\nimport axios from 'axios';\n\nimport '../css/App.css';\nimport retrieveToken from './retrieveToken';\nimport Container from 'react-bootstrap/Container'\nimport { Row } from 'react-bootstrap';\nimport { Col } from 'react-bootstrap';\nimport { BrowserRouter as Router, Switch, Route, Link} from \"react-router-dom\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      seEmail:'',\n      reEmail:'',\n      message:'',\n      callback:''};\n\n      this.handleChange = this.handleChange.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {\n      this.setState({ [event.target.name]: event.target.value });\n    }\n\n    handleSubmit(event) {\n      console.log('A token was submitted: \\nSender: '+ this.state.seEmail+'\\nReceiver: '+this.state.reEmail+'\\nMessage'+this.state.message);\n      const tokenInfo = JSON.stringify({ \n        \"senderEmail\": this.state.seEmail,\n        \"recipientEmail\": this.state.reEmail,\n        \"secretMessage\": this.state.message\n       });\n       console.log(tokenInfo);\n    \n       axios.post('http://localhost:10050/createToken', tokenInfo, {\"headers\": {\"content-type\": \"application/json\",}})\n       .then(\n         response => {\n           console.log(response.data)\n           this.setState({\n             callback: response.data\n           });\n          //  alert('You have just created a token for your friend! He will be able to collect the secret message using the Token Id and Storage Node information.'+response.data);\n          }\n         );\n\n      event.preventDefault();\n    }\n\n    render(){\n      return (\n        <div className=\"App\">\n          <Container>\n            <img src=\"https://www.corda.net/wp-content/uploads/2016/11/fg005_corda_b.png\" alt=\"Corda\" width=\"200\" className=\"App-logo\"/>\n            <Row>\n              <Col md=\"auto\"><h1>CorDapp Token-To-Friend</h1></Col>\n              <Col md={{offset:2}}><button className=\"btn btn-primary disabled\" >Create a Token</button> <Link to=\"/retrieveToken\" ><button className=\"btn btn-primary\" >Retrieve a Token</button></Link></Col>\n            </Row>\n            <p>In this example CorDapp, you will be able to issue your friend a token that carries a secret message.\n              You will receive the information of the tokenID and where the token is stored. Your friend would need these\n              information to retrieve the token and reveal the secret message.</p>\n              <p>If you are retrieving a token, please click the Retrieve Token button above to continue. ↗️ </p>\n          </Container>\n          <Container>\n            <br />\n            <h4>Send a token to a friend: </h4>\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"form-group\">\n                <label>\n                  Your Email Address\n                </label>\n                <input\n                  type=\"text\"  className=\"form-control\" name=\"seEmail\" onChange={this.handleChange} />\n                <small\n                  id=\"emailHelp\"\n                  className=\"form-text text-muted\">\n                  We'll never share your email with anyone else.\n                </small>\n              </div>\n              <div className=\"form-group\">\n                <label>\n                  Recipient's Email Address\n                </label>\n                <input\n                  type=\"text\"  className=\"form-control\" name=\"reEmail\" onChange={this.handleChange} />\n              </div>\n              <div>\n                <p>You can attache a secret message to this token and deliver to your friend. </p>\n                <input\n                  type=\"text\"  className=\"form-control\" name=\"message\" onChange={this.handleChange} />\n              </div>\n              <br />\n              <div className=\"row\">\n                <div className=\"col-10\" />\n                <div className=\"col\">\n                  <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n                </div>\n              </div>\n            </form>\n          </Container>\n          <Container>\n            {this.state.callback != '' &&\n              <div>\n                <h4>Here is your Token Information: </h4>\n                <p>{this.state.callback}</p>\n              </div>\n                  }\n          </Container>\n\n\n\n\n\n        </div>\n      );\n    }\n  }\n\n  export default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport retrieveToken from './component/retrieveToken';\nimport App from './component/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router, Switch, Route, Link} from \"react-router-dom\";\n\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={App} />\n        <Route path=\"/retrieveToken\" component={retrieveToken} />\n      </Switch>\n    </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}