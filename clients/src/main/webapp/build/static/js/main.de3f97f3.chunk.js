(this.webpackJsonptestfrontend=this.webpackJsonptestfrontend||[]).push([[0],{43:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),o=a.n(s),c=a(36),i=a.n(c),r=(a(43),a(16)),l=a(17),d=a(18),h=a(9),j=a(20),b=a(19),m=(a(24),a(15)),u=a.n(m),p=a(10),O=a(68),g=a(69),x=a(13),v=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).queryToken=function(){var e=JSON.stringify({tokenId:n.state.tokenId,recipientEmail:n.state.reEmail});console.log(e),console.log("http://localhost:".concat(n.state.endPoint,"/retrieve")),u.a.post("http://localhost:".concat(n.state.endPoint,"/retrieve"),e,{headers:{"content-type":"application/json"}}).then((function(e){console.log(e.data),n.setState({callback:e.data})}))},n.state={tokenId:"",reEmail:"",peerNodes:[{label:"C=CN,L=Beijing,O=AsiaEast",storageNode:"C=CN,L=Beijing,O=AsiaEast"},{label:"C=US,L=New York,O=USEast3",storageNodeue:"C=US,L=New York,O=USEast3"},{label:"C=US,L=San Diego,O=USWest1",storageNode:"C=US,L=San Diego,O=USWest1"}],endPoint:"10050",storageNode:"BankA",callback:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("http://localhost:10050/peers",{headers:{"content-type":"application/json"}}).then((function(t){var a=t.data.peers;console.log(a);var n=[];a.map((function(e){return n.push({label:e,storageNode:e})})),console.log(n),console.log("--"),console.log(e.state.peerNodes),e.setState({peerNodes:n})}))}},{key:"handleChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){console.log(this.state.storageNode),"C=CN,L=Beijing,O=AsiaEast"==this.state.storageNode?(console.log("10051"),this.setState({endPoint:"10051"},this.queryToken)):"C=US,L=New York,O=USEast3"==this.state.storageNode?(console.log("10052"),this.setState({endPoint:"10052"},this.queryToken)):"C=US,L=San Diego,O=USWest1"==this.state.storageNode&&(console.log("10053"),this.setState({endPoint:"10053"},this.queryToken)),e.preventDefault()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"retrieveToken",children:[Object(n.jsxs)(p.a,{children:[Object(n.jsx)("img",{src:"https://www.corda.net/wp-content/uploads/2016/11/fg005_corda_b.png",alt:"Corda",width:"200",className:"App-logo"}),Object(n.jsxs)(O.a,{children:[Object(n.jsx)(g.a,{md:"auto",children:Object(n.jsx)("h1",{children:"CorDapp Token-To-Friend"})}),Object(n.jsxs)(g.a,{md:{offset:2},children:[Object(n.jsx)(x.b,{to:"/",children:Object(n.jsx)("button",{className:"btn btn-primary",children:"Create a Token"})})," ",Object(n.jsx)("button",{className:"btn btn-primary disabled",children:"Retrieve a Token"})]})]}),Object(n.jsx)("p",{children:"In this example CorDapp, you will be able to issue your friend a token that carries a secret message. You will receive the information of the tokenID and where the token is stored. Your friend would need these information to retrieve the token and reveal the secret message."}),Object(n.jsx)("p",{children:"If you are retrieving a token, please click the Retrieve Token button above to continue. \u2197\ufe0f "})]}),Object(n.jsxs)(p.a,{children:[Object(n.jsx)("h4",{children:"Retrieve the Secret Message: "}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Storage Node"}),Object(n.jsx)("select",{value:this.state.storageNode,name:"storageNode",onChange:this.handleChange,className:"form-control",children:this.state.peerNodes.map((function(e){return Object(n.jsx)("option",{value:e.storageNode,children:e.label})}))})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Token ID"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"tokenId",onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Recipient's Email Address"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"reEmail",onChange:this.handleChange})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-10"}),Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})]}),Object(n.jsx)("br",{}),Object(n.jsx)(p.a,{children:""!=this.state.callback&&Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Here is your query result: "}),Object(n.jsx)("p",{children:this.state.callback})]})})]})}}]),a}(o.a.Component),f=(a(66),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={seEmail:"",reEmail:"",message:"",callback:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;console.log("A token was submitted: \nSender: "+this.state.seEmail+"\nReceiver: "+this.state.reEmail+"\nMessage"+this.state.message);var a=JSON.stringify({senderEmail:this.state.seEmail,recipientEmail:this.state.reEmail,secretMessage:this.state.message});console.log(a),u.a.post("http://localhost:10050/createToken",a,{headers:{"content-type":"application/json"}}).then((function(e){console.log(e.data),t.setState({callback:e.data})})),e.preventDefault()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)(p.a,{children:[Object(n.jsx)("img",{src:"https://www.corda.net/wp-content/uploads/2016/11/fg005_corda_b.png",alt:"Corda",width:"200",className:"App-logo"}),Object(n.jsxs)(O.a,{children:[Object(n.jsx)(g.a,{md:"auto",children:Object(n.jsx)("h1",{children:"CorDapp Token-To-Friend"})}),Object(n.jsxs)(g.a,{md:{offset:2},children:[Object(n.jsx)("button",{className:"btn btn-primary disabled",children:"Create a Token"})," ",Object(n.jsx)(x.b,{to:"/retrieveToken",children:Object(n.jsx)("button",{className:"btn btn-primary",children:"Retrieve a Token"})})]})]}),Object(n.jsx)("p",{children:"In this example CorDapp, you will be able to issue your friend a token that carries a secret message. You will receive the information of the tokenID and where the token is stored. Your friend would need these information to retrieve the token and reveal the secret message."}),Object(n.jsx)("p",{children:"If you are retrieving a token, please click the Retrieve Token button above to continue. \u2197\ufe0f "})]}),Object(n.jsxs)(p.a,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("h4",{children:"Send a token to a friend: "}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Your Email Address"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"seEmail",onChange:this.handleChange}),Object(n.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Recipient's Email Address"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"reEmail",onChange:this.handleChange})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"You can attache a secret message to this token and deliver to your friend. "}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"message",onChange:this.handleChange})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-10"}),Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})]}),Object(n.jsx)(p.a,{children:""!=this.state.callback&&Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Here is your Token Information: "}),Object(n.jsx)("p",{children:this.state.callback})]})})]})}}]),a}(o.a.Component)),k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,70)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),o(e),c(e)}))},N=a(3);i.a.render(Object(n.jsx)(x.a,{children:Object(n.jsxs)(N.c,{children:[Object(n.jsx)(N.a,{exact:!0,path:"/",component:f}),Object(n.jsx)(N.a,{path:"/retrieveToken",component:v})]})}),document.getElementById("root")),k()}},[[67,1,2]]]);
//# sourceMappingURL=main.de3f97f3.chunk.js.map